{"version":3,"file":"events.min.js","names":["window","addEventListener","onEventSubmit","event","preventDefault","elChangedElement","currentTarget","targetString","dataset","engagesubmittarget","elTarget","document","forms","adminForm","getElementById","submit","onClickConfirm","confirmLangString","engageconfirmmessage","confirm","Joomla","Text","_","slice","call","querySelectorAll","forEach","el"],"sources":["events.js"],"sourcesContent":["/**\n * @package   AkeebaEngage\n * @copyright Copyright (c)2020-2023 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\n\"use strict\";\n\nwindow.addEventListener('DOMContentLoaded', function() {\n    var onEventSubmit = function (event)\n    {\n        event.preventDefault();\n\n        var elChangedElement = event.currentTarget;\n        var targetString     = elChangedElement.dataset.engagesubmittarget ?? \"\";\n        var elTarget         = document.forms.adminForm ? document.forms.adminForm : null;\n\n        if (targetString !== \"\")\n        {\n            elTarget = document.getElementById(targetString);\n        }\n\n        if (!elTarget)\n        {\n            return true;\n        }\n\n        elTarget.submit();\n\n        return false;\n    };\n\n    var onClickConfirm = function (event)\n    {\n        event.preventDefault();\n\n        var elChangedElement  = event.currentTarget;\n        var confirmLangString = elChangedElement.dataset.engageconfirmmessage ?? \"\";\n\n        if (confirmLangString === \"\")\n        {\n            return true;\n        }\n\n        return confirm(Joomla.Text._(confirmLangString));\n    };\n\n    [].slice.call(document.querySelectorAll('.engageCommonEventsOnChangeSubmit')).forEach(function(el) {\n        el.addEventListener('change', onEventSubmit);\n    });\n\n    [].slice.call(document.querySelectorAll('.engageCommonEventsOnClickSubmit')).forEach(function(el) {\n        el.addEventListener('click', onEventSubmit);\n    });\n\n    [].slice.call(document.querySelectorAll('.engageCommonEventsOnBlurSubmit')).forEach(function(el) {\n        el.addEventListener('blur', onEventSubmit);\n    });\n\n    [].slice.call(document.querySelectorAll('.engageCommonEventsOnClickConfirm')).forEach(function(el) {\n        el.addEventListener('click', onClickConfirm);\n    });\n});\n"],"mappings":"AAMA,YAAY,CAEZA,MAAM,CAACC,gBAAgB,CAAC,kBAAkB,CAAE,UAAW,IAC/CC,EAAa,CAAG,SAAUC,CAAK,CACnC,OACIA,CAAK,CAACC,cAAc,EAAE,IAElBC,EAAgB,CAAGF,CAAK,CAACG,aAAa,CACtCC,CAAY,WAAOF,CAAgB,CAACG,OAAO,CAACC,kBAAkB,gBAAI,EAAE,CACpEC,CAAQ,CAAWC,QAAQ,CAACC,KAAK,CAACC,SAAS,CAAGF,QAAQ,CAACC,KAAK,CAACC,SAAS,CAAG,IAAI,SAE5D,EAAE,GAAnBN,CAAmB,GAEnBG,CAAQ,CAAGC,QAAQ,CAACG,cAAc,CAACP,CAAY,CAAC,GAGhD,CAACG,CAAQ,IAKbA,CAAQ,CAACK,MAAM,EAAE,IAGrB,CAAC,CAEGC,CAAc,CAAG,SAAUb,CAAK,CACpC,OACIA,CAAK,CAACC,cAAc,EAAE,IAElBC,EAAgB,CAAIF,CAAK,CAACG,aAAa,CACvCW,CAAiB,WAAGZ,CAAgB,CAACG,OAAO,CAACU,oBAAoB,gBAAI,EAAE,SAEjD,EAAE,GAAxBD,CAAwB,GAKrBE,OAAO,CAACC,MAAM,CAACC,IAAI,CAACC,CAAC,CAACL,CAAiB,CAAC,CACnD,CAAC,CAED,EAAE,CAACM,KAAK,CAACC,IAAI,CAACb,QAAQ,CAACc,gBAAgB,CAAC,mCAAmC,CAAC,CAAC,CAACC,OAAO,CAAC,SAASC,CAAE,CAAE,CAC/FA,CAAE,CAAC1B,gBAAgB,CAAC,QAAQ,CAAEC,CAAa,CAC/C,CAAC,CAAC,CAEF,EAAE,CAACqB,KAAK,CAACC,IAAI,CAACb,QAAQ,CAACc,gBAAgB,CAAC,kCAAkC,CAAC,CAAC,CAACC,OAAO,CAAC,SAASC,CAAE,CAAE,CAC9FA,CAAE,CAAC1B,gBAAgB,CAAC,OAAO,CAAEC,CAAa,CAC9C,CAAC,CAAC,CAEF,EAAE,CAACqB,KAAK,CAACC,IAAI,CAACb,QAAQ,CAACc,gBAAgB,CAAC,iCAAiC,CAAC,CAAC,CAACC,OAAO,CAAC,SAASC,CAAE,CAAE,CAC7FA,CAAE,CAAC1B,gBAAgB,CAAC,MAAM,CAAEC,CAAa,CAC7C,CAAC,CAAC,CAEF,EAAE,CAACqB,KAAK,CAACC,IAAI,CAACb,QAAQ,CAACc,gBAAgB,CAAC,mCAAmC,CAAC,CAAC,CAACC,OAAO,CAAC,SAASC,CAAE,CAAE,CAC/FA,CAAE,CAAC1B,gBAAgB,CAAC,OAAO,CAAEe,CAAc,CAC/C,CAAC,CACL,CAAC,CAAC"}